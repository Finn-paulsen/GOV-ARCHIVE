:root{
  --bg:#0078d7;
  --panel:#d0d0d0;
  --edge-dark:#808080;
  --edge-light:#ffffff;
  --taskbar:#c0c0c0;
  --font: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:var(--font)}
body{background:var(--bg)}

#wallpaper{position:fixed;inset:0;background:linear-gradient(180deg,#2b65b6 0%, #003a6b 100%);}

#desktop{position:absolute;left:20px;top:20px;right:20px;bottom:50px;padding:10px;color:#000}
.icon{width:90px;text-align:center;margin:6px;display:inline-block;cursor:default}
.icon-img{font-size:36px;background:transparent;padding:6px;border-radius:6px}
.icon-label{font-size:12px;margin-top:6px;color:#fff;text-shadow:0 1px 0 rgba(0,0,0,0.6)}

/* Taskbar */
#taskbar{position:fixed;left:0;right:0;bottom:0;height:40px;background:linear-gradient(#e0e0e0,#bfbfbf);display:flex;align-items:center;padding:4px 6px;border-top:2px solid var(--edge-dark)}
#start-button{width:88px;height:32px;background:linear-gradient(#f5f5f5,#d5d5d5);border:2px solid var(--edge-dark);box-shadow:inset 0 1px 0 var(--edge-light);font-weight:bold;cursor:pointer}
#taskbar-windows{flex:1;display:flex;gap:6px;padding-left:8px}
.tb-item{padding:4px 8px;background:#efefef;border:1px solid #9a9a9a;border-radius:3px;cursor:pointer}
#tray{display:flex;align-items:center;gap:10px}
#clock{min-width:80px;text-align:center;background:transparent;color:#000}

#start-menu{position:fixed;left:8px;bottom:48px;width:220px;background:var(--panel);border:2px solid var(--edge-dark);box-shadow:2px 2px 0 rgba(0,0,0,0.4);padding:8px}
.hidden{display:none}
.start-item{display:block;width:100%;text-align:left;padding:6px;border:none;background:transparent;cursor:pointer}

/* Windows */
.window{position:fixed;width:420px;height:260px;background:#fff;border:2px solid var(--edge-dark);box-shadow:4px 4px 0 rgba(0,0,0,0.3);}
.titlebar{height:28px;background:linear-gradient(#000080,#00006a);color:#fff;padding:4px 8px;display:flex;align-items:center;justify-content:space-between;cursor:move}
.titlebar .title{font-weight:bold}
.titlebar .controls{display:flex;gap:4px}
.titlebar button{background:#c0c0c0;border:2px solid #808080;padding:2px 6px;cursor:pointer}
.content{padding:12px;font-size:14px}

/* Login overlay */
#login-overlay{position:fixed;inset:0;background:rgba(0,0,0,0.5);display:flex;align-items:center;justify-content:center}
.login-box{width:340px;background:linear-gradient(#f3f3f3,#dedede);border:2px solid #9a9a9a;padding:18px;border-radius:4px}
.login-box h2{margin:0 0 12px 0}
.login-box label{display:block;margin-bottom:10px;font-size:14px}
.login-box input{width:100%;padding:8px;border:2px solid #b0b0b0}
.login-actions{text-align:right}

/* hidden until authenticated */
body:not(.authenticated) #wallpaper,
body:not(.authenticated) #desktop,
body:not(.authenticated) #taskbar,
body:not(.authenticated) #start-menu{
  opacity: 0;
  visibility: hidden;
  transform: scale(0.98);
  pointer-events: none;
}

body.authenticated #wallpaper,
body.authenticated #desktop,
body.authenticated #taskbar,
body.authenticated #start-menu{
  transition: opacity 260ms ease, transform 260ms ease, visibility 260ms;
  opacity: 1;
  visibility: visible;
  transform: none;
  pointer-events: auto;
}

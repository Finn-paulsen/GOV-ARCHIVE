@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom CRT-Styles und Variablen erhalten */
:root{
  --bg:#020202;
  --crt-green:#7fffd4;
  --panel:#081018;
  --accent:#55ffaa;
}
*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  background: radial-gradient(ellipse at center, #031018 0%, #000000 70%);
  color:var(--crt-green);
  font-family: 'Inconsolata', ui-monospace, SFMono-Regular, Menlo, Monaco, 'Roboto Mono', monospace;
}
.app-shell{
  height:100vh; /* simplified shell: Desktop handles its own layout */
}

/* scanlines */
.terminal-screen::after{
  content:"";
  pointer-events:none;
  position:absolute;
  inset:0;
  background-image: repeating-linear-gradient(
    to bottom,
    rgba(0,0,0,0) 0px,
    rgba(0,0,0,0.04) 1px
  );
  mix-blend-mode: multiply;
  opacity:0.7;
}

.crt-flicker{animation:crtFlicker 3s infinite}
@keyframes crtFlicker{
  0%{opacity:1;filter:brightness(1)}
  3%{opacity:0.95;filter:brightness(.9)}
  6%{opacity:1;filter:brightness(1)}
  100%{opacity:1}
}

.switch-panel{display:none}

.right-panel{display:block}
.content-area{background:var(--panel);padding:18px;border-radius:6px;min-height:400px}
.card{background:rgba(255,255,255,0.01);padding:12px;border-radius:6px}

.menu{display:flex;gap:8px;flex-wrap:wrap}
.menu button{background:transparent;border:1px solid rgba(85,255,170,0.06);color:var(--crt-green);padding:8px 10px;border-radius:6px}
.menu button.active{background:linear-gradient(90deg, rgba(85,255,170,0.06), rgba(85,255,170,0.02));box-shadow:0 4px 14px rgba(85,255,170,0.03) inset}

/* small responsive */
@media (max-width:900px){
  .app-shell{grid-template-columns:1fr;grid-auto-rows:auto}
}

/* Boot sequence overlay */
.boot-overlay{
  position:fixed;
  inset:0;
  background:#000;
  color:var(--crt-green);
  font-family: inherit;
  padding:28px;
  z-index:9999;
  overflow:auto;
  display:flex;
  flex-direction:column;
  gap:6px;
}
.boot-line{white-space:pre-wrap;font-size:15px;line-height:1.4}
.boot-cursor{font-weight:700;opacity:1;animation:blinkCursor 700ms steps(1) infinite}
@keyframes blinkCursor{50%{opacity:0}100%{opacity:1}}
.boot-overlay.boot-fade{transition:opacity .42s ease;opacity:0;pointer-events:none}
.flicker-brief{animation:flickerX .36s ease-in-out}
@keyframes flickerX{0%{opacity:1}25%{opacity:.2}50%{opacity:1}75%{opacity:.6}100%{opacity:1}}
.boot-line.warn{color: #ffb86b}

/* small polish: final header centered-ish */
.boot-overlay .boot-line:last-of-type{margin-bottom:18px}

/* prompt invalid / shake */
.prompt-line.invalid{outline:2px solid rgba(255,107,107,0.9);box-shadow:0 6px 20px rgba(255,80,80,0.06) inset}
.prompt-line.shake{animation:shakeX .36s ease-in-out}
@keyframes shakeX{0%{transform:translateX(0)}20%{transform:translateX(-6px)}40%{transform:translateX(6px)}60%{transform:translateX(-4px)}80%{transform:translateX(4px)}100%{transform:translateX(0)}}
.inline-cursor{font-weight:700;opacity:1;animation:blinkCursor 700ms steps(1) infinite;margin-left:2px}
.user-input{display:inline-block;min-width:6px}

.debug-token{font-size:12px;opacity:0.18;margin-top:6px}
.prompt-line.invalid{outline:2px solid rgba(255,107,107,0.9);box-shadow:0 6px 20px rgba(255,80,80,0.06) inset}

/* Browser component styles */
.browser-root{padding:12px;background:linear-gradient(180deg,#041018,#021014);border-radius:8px;min-height:320px}
.browser-bar{display:flex;gap:8px;align-items:center;margin-bottom:8px}
.browser-bar .address{flex:1;padding:8px 10px;border-radius:6px;background:rgba(255,255,255,0.02);color:var(--crt-green);border:1px solid rgba(85,255,170,0.06)}
.browser-bar button{padding:6px 8px;border-radius:6px;background:transparent;border:1px solid rgba(85,255,170,0.06);color:var(--crt-green)}
.browser-content{background:rgba(0,0,0,0.35);padding:10px;border-radius:6px;min-height:220px;overflow:auto}
.browser-frame{color:var(--crt-green)}
.browser-error{margin-top:8px;color:#ff9b9b}
.live-toggle{font-size:12px;opacity:0.9;display:flex;align-items:center;gap:6px}
.loader{font-size:13px;margin-bottom:6px}

/* Desktop styles */
.desktop-root{display:flex;gap:12px;align-items:flex-start;padding:10px;height:100%}
.desktop-icons{width:140px;display:flex;flex-direction:column;gap:10px;padding:12px;background:linear-gradient(180deg,rgba(0,0,0,0.2),rgba(0,0,0,0.08));border-radius:8px}
.desktop-icon{display:flex;flex-direction:column;align-items:center;gap:6px;background:transparent;border:none;color:var(--crt-green);cursor:pointer}
.icon-plate{width:64px;height:64px;border-radius:8px;background:rgba(255,255,255,0.02);display:flex;align-items:center;justify-content:center;font-size:28px;box-shadow:0 8px 20px rgba(0,0,0,0.6)}
.icon-label{font-size:12px;opacity:0.9}
.desktop-window{flex:1;padding:12px;background:linear-gradient(180deg,#021018,#001014);border-radius:8px;min-height:420px}
.window-inner{height:100%;overflow:auto}

/* subtle desktop wallpaper */
.right-panel{background-image: radial-gradient(circle at 20% 10%, rgba(120,255,200,0.02), transparent 10%), radial-gradient(circle at 80% 90%, rgba(255,200,120,0.01), transparent 10%)}

/* Window styles */
.window{position:absolute;left:60px;top:40px;width:70%;max-width:820px;background:linear-gradient(180deg,#071218,#041014);border-radius:6px;border:1px solid rgba(85,255,170,0.06);box-shadow:0 20px 50px rgba(0,0,0,0.7);overflow:hidden}
.window.minimized{display:none}
.window-titlebar{display:flex;align-items:center;justify-content:space-between;padding:8px 10px;background:linear-gradient(90deg, rgba(0,0,0,0.25), rgba(0,0,0,0.12));border-bottom:1px solid rgba(85,255,170,0.03)}
.window-body{padding:12px;max-height:54vh;overflow:auto}
.win-btn{background:transparent;border:1px solid rgba(255,255,255,0.02);padding:4px 6px;border-radius:4px;margin-right:6px;color:var(--crt-green);cursor:pointer}
.win-btn.close{background:linear-gradient(90deg,#2b0a0a,#120707);border-color:rgba(255,80,80,0.12)}
.title-center{font-weight:700;opacity:0.95}
.title-right{font-size:11px;opacity:0.6}

/* Taskbar */
.taskbar{position:absolute;left:0;right:0;bottom:0;height:42px;background:linear-gradient(180deg,#021010,#000);display:flex;align-items:center;justify-content:space-between;padding:6px 12px;border-top:1px solid rgba(85,255,170,0.02)}
.taskbar-left{font-size:13px;opacity:0.9}
.taskbar-center{display:flex;gap:8px;align-items:center}
.task-btn{background:linear-gradient(180deg,rgba(255,255,255,0.02),transparent);border:1px solid rgba(85,255,170,0.04);padding:6px 8px;border-radius:6px;color:var(--crt-green);cursor:pointer}
.task-btn.minimized{opacity:0.6}

/* Archive icons */
.archive-section{display:flex;flex-direction:column;gap:8px}
.archive-icon .icon-label{font-size:11px}
